<!DOCTYPE html>
<html>
	<head>
		<link rel='stylesheet' href='black-tie/jquery-ui.min.css' />
		
		<link href='styles/fullcalendar.css' rel='stylesheet' />
		<link href='styles/fullcalendar.print.css' rel='stylesheet' media='print' />
		<script src='scripts/jquery.min.js'></script>
		<script src='scripts/jquery-ui.min.js'></script>
		<script src='scripts/jquery.json.min.js'></script>
		<script src='scripts/fullcalendar.js'></script>
		<script src='scripts/mvc-calendar.js'></script>
		<script>
			var calendars = [];
			var currentCalendar;
			var modelDayAllotment =  {
				roomNum : 50,
				freeNum: 0,
				cost: {
						isWeekEnd: 2500, 
						notWeekEnd : 2000
					}
			};
			var displayElement = 'Rooms: {0}<br/>Free: {1}<br/>Pricing: {2}<br/></div>';
			var weekendDays = [4, 5, 6];
			var calendar1, calendar2;
			$(document).ready(function () {
				$("#calendarDialog").dialog({
					autoOpen: false,
					show: {
						effect: "size",
						duration: 250
					},
					hide: {
						effect: "explode",
						duration: 500
					},
					height: 350,
					width: 275,
					modal: true,
					buttons: {
						"Done": function () {
							
							calendars[currentCalendar].updateDayData();
							$(this).dialog("close");
						}
					}
				});

				$("#roomQuantitySpinner").spinner();
				$("#freeRoomQuantitySpinner").spinner();
				$("#costSpinner").spinner();
					//alert(displayElement.Format(1, 2, 3));
					calendar1 = TASCalendar();
					calendar2 = TASCalendar();
				calendar1.initCalendar({caller: 'calendar1',start: new Date(2013,11,3), end: new Date(2013,11,9), modelDay: modelDayAllotment, displayFormatElement: displayElement,
			
			holidays: [new Date(2013,0,1).getTime(), new Date(2013,10,28).getTime()], displayDefault: true});
			calendars['calendar1'] = calendar1;
			
			var loadedData = [{
				dateKey : new Date(2013,4,1),
				roomNum : 50,
				freeNum: 0,
				cost: 345,
				weekend: true
					
			},
			{
				dateKey : new Date(2013,1,15),
				roomNum : 50,
				freeNum: 0,
				cost: 3245,
				weekend: true
					
			}];
			calendar2.initCalendar({caller: 'calendar2',start: new Date(2013,11,3), end: new Date(2013,11,9), modelDay: modelDayAllotment, displayFormatElement: displayElement,
			
			holidays: [new Date(2013,0,1).getTime(), new Date(2013,10,28).getTime()], displayDefault: false, dayDataSource: loadedData});
			calendars['calendar2'] = calendar2;
			$('#calendar1').css({"display": "none"});
			$('#calendar2').css({"display": "none"});
			});
			
		</script>
		<style>
			body {
				margin-top: 40px;
				text-align: center;
				font-size: 14px;
				font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
			}
td{height:100px;}
			#calendar1 {
				width: 600px;
				margin: 0 auto;
				margin-top: 40px;
			}
			#calendar2 {
				width: 600px;
				margin: 0 auto;
				margin-top: 40px;
			}
			#calendarIcon {
				width: 50px;
			}
			input[type=checkbox] {
				margin: 0;
			}
		</style>
	</head>
	<body>
	<img id="dummyImage" src="images/dummy.png"/>
	<br/>
	<input type="image" id="calendarIcon" src="images/calendar_icon.jpg" onclick="$('#calendar1').show('slow');"/>
	<br/>
	<div id='calendar1'></div>
	<br/>
	<img id="dummyImage" src="images/dummy.png"/>
	<br/>
	<input type="image" id="calendarIcon" src="images/calendar_icon.jpg" onclick="$('#calendar2').show('slow');"/>
	<br/>
	<div id='calendar2'></div>
	<div id="calendarDialog">
		<label for="roomQuantitySpinner">Room Quantity:</label>
		<input id="roomQuantitySpinner" name="value" data-dayModelKey="roomNum"/>
		<br/>
		<br/>
		<label for="freeRoomQuantitySpinner">Free Quantity:</label>
		<input id="freeRoomQuantitySpinner" name="value" data-dayModelKey="freeNum"/>
		<br/>
		<br/>
		<label for="costSpinner">Room Cost:</label>
		<input id="costSpinner" name="value" data-dayModelKey="cost"/>
		<br/>
		<br/>
		<label><input id="isWeekEnd" type="checkbox" name="value" value="false" data-dayModelKey="isWeekEnd"> Weekend</label>
	</div>
	</body>
</html>
